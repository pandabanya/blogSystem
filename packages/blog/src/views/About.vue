<template>
  <div class="min-h-screen bg-gray-900 text-white">
    <!-- ç²’å­èƒŒæ™¯ -->
    <canvas ref="particleCanvas" class="particle-bg"></canvas>
    
    <Navbar />
    
    <main class="relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
      <!-- å¤´éƒ¨ Hero -->
      <section class="text-center mb-20">
        <div class="inline-block mb-8">
          <div class="w-32 h-32 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 p-1 shadow-2xl mx-auto">
            <div class="w-full h-full rounded-full bg-gray-800 flex items-center justify-center text-7xl">
              ğŸ‘¨â€ğŸ’»
            </div>
          </div>
        </div>
        
        <h1 class="text-5xl font-bold mb-4">å…³äºæˆ‘</h1>
        <p class="text-xl text-gray-400 max-w-2xl mx-auto">
          ä¸€ä¸ªçƒ­çˆ±æŠ€æœ¯ã€å–œæ¬¢åˆ†äº«çš„å‰ç«¯å·¥ç¨‹å¸ˆ
        </p>
      </section>

      <!-- ä¸ªäººç®€ä»‹ -->
      <section class="mb-16 bg-gray-800/50 backdrop-blur-md rounded-2xl p-8 border border-gray-700">
        <h2 class="text-3xl font-bold mb-6 flex items-center gap-2">
          <span>ğŸ‘‹</span> ä½ å¥½ï¼Œæˆ‘æ˜¯å¼ ä¸‰
        </h2>
        <div class="space-y-4 text-gray-300 leading-relaxed">
          <p>
            æˆ‘æ˜¯ä¸€åä¸“æ³¨äºå‰ç«¯å¼€å‘çš„å·¥ç¨‹å¸ˆï¼Œç›®å‰åœ¨æŸäº’è”ç½‘å…¬å¸è´Ÿè´£å‰ç«¯æ¶æ„è®¾è®¡ä¸å¼€å‘å·¥ä½œã€‚
            å¯¹ Vue.js ç”Ÿæ€ã€TypeScriptã€å·¥ç¨‹åŒ–å®è·µæœ‰æ·±å…¥ç ”ç©¶ã€‚
          </p>
          <p>
            ç¼–ç¨‹ä¹‹å¤–ï¼Œæˆ‘å–œæ¬¢æ‘„å½±ã€è·‘æ­¥ã€æ’¸çŒ«ã€‚è®¤ä¸ºæŠ€æœ¯æ˜¯æ‰‹æ®µï¼Œè®©ç”Ÿæ´»å˜å¾—æ›´ç¾å¥½æ‰æ˜¯ç›®çš„ã€‚
            è¿™ä¸ªåšå®¢æ˜¯æˆ‘è®°å½•æŠ€æœ¯æ¢ç´¢å’Œç”Ÿæ´»æ„Ÿæ‚Ÿçš„åœ°æ–¹ï¼Œå¸Œæœ›æˆ‘çš„åˆ†äº«èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚
          </p>
        </div>
      </section>

      <!-- æŠ€æœ¯æ ˆ -->
      <section class="mb-16">
        <h2 class="text-3xl font-bold mb-8 flex items-center gap-2">
          <span>ğŸ’»</span> æŠ€æœ¯æ ˆ
        </h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div 
            v-for="category in techStack" 
            :key="category.name"
            class="bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-gray-700"
          >
            <h3 class="text-xl font-bold mb-4 text-blue-400">{{ category.name }}</h3>
            <div class="flex flex-wrap gap-2">
              <span 
                v-for="tech in category.items" 
                :key="tech"
                class="px-3 py-1 bg-gray-700/50 text-gray-300 text-sm rounded-full border border-gray-600"
              >
                {{ tech }}
              </span>
            </div>
          </div>
        </div>
      </section>

      <!-- æˆé•¿æ—¶é—´çº¿ -->
      <section class="mb-16">
        <h2 class="text-3xl font-bold mb-8 flex items-center gap-2">
          <span>ğŸ“…</span> æˆé•¿å†ç¨‹
        </h2>
        <div class="space-y-8">
          <div 
            v-for="(event, i) in timeline" 
            :key="i"
            class="relative pl-8 border-l-2 border-blue-500/30"
          >
            <!-- æ—¶é—´çº¿èŠ‚ç‚¹ -->
            <div class="absolute -left-2 top-0 w-4 h-4 rounded-full bg-blue-500 shadow-lg"></div>
            
            <div class="bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-gray-700">
              <div class="flex items-center gap-3 mb-2">
                <span class="text-2xl">{{ event.icon }}</span>
                <span class="text-blue-400 font-bold">{{ event.year }}</span>
              </div>
              <h3 class="text-xl font-bold mb-2">{{ event.title }}</h3>
              <p class="text-gray-400">{{ event.desc }}</p>
            </div>
          </div>
        </div>
      </section>

      <!-- è”ç³»æ–¹å¼ -->
      <section class="mb-16 bg-gradient-to-r from-blue-900/30 to-purple-900/30 backdrop-blur-sm rounded-2xl p-8 border border-blue-500/20">
        <h2 class="text-3xl font-bold mb-6 flex items-center gap-2">
          <span>ğŸ“¬</span> è”ç³»æˆ‘
        </h2>
        <p class="text-gray-300 mb-6">æ¬¢è¿ä¸æˆ‘äº¤æµæŠ€æœ¯ã€åˆ†äº«æƒ³æ³•ï¼Œæˆ–è€…åªæ˜¯æ‰“ä¸ªæ‹›å‘¼ï¼</p>
        <div class="grid md:grid-cols-2 gap-4">
          <a 
            v-for="contact in contacts" 
            :key="contact.name"
            :href="contact.link"
            target="_blank"
            class="contact-card"
          >
            <div class="text-3xl mb-2">{{ contact.icon }}</div>
            <div class="font-bold text-white">{{ contact.name }}</div>
            <div class="text-sm text-gray-400">{{ contact.handle }}</div>
          </a>
        </div>
      </section>

      <!-- åšå®¢ç»Ÿè®¡ -->
      <section class="grid md:grid-cols-3 gap-6">
        <div 
          v-for="stat in stats" 
          :key="stat.label"
          class="bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-gray-700 text-center"
        >
          <div class="text-4xl font-bold text-blue-400 mb-2">{{ stat.value }}</div>
          <div class="text-gray-400">{{ stat.label }}</div>
        </div>
      </section>
    </main>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted, onUnmounted } from 'vue'
import Navbar from '../components/Navbar.vue'

const particleCanvas = ref<HTMLCanvasElement | null>(null)

const techStack = [
  {
    name: 'å‰ç«¯æ ¸å¿ƒ',
    items: ['Vue 3', 'React', 'TypeScript', 'JavaScript ES6+']
  },
  {
    name: 'å·¥ç¨‹åŒ–',
    items: ['Vite', 'Webpack', 'pnpm', 'Monorepo', 'Git']
  },
  {
    name: 'æ ·å¼æ–¹æ¡ˆ',
    items: ['TailwindCSS', 'SCSS', 'CSS Modules', 'Styled Components']
  },
  {
    name: 'åç«¯ & å·¥å…·',
    items: ['Node.js', 'NestJS', 'MongoDB', 'Docker', 'Nginx']
  }
]

const timeline = [
  {
    year: '2024',
    icon: 'ğŸš€',
    title: 'æ¶æ„å‡çº§',
    desc: 'è´Ÿè´£å…¬å¸å‰ç«¯æ¶æ„é‡æ„ï¼Œå¼•å…¥ Monorepo + Micro Frontend æ–¹æ¡ˆ'
  },
  {
    year: '2023',
    icon: 'ğŸ“š',
    title: 'æŠ€æœ¯æ²‰æ·€',
    desc: 'å¼€å§‹ç³»ç»Ÿå­¦ä¹ å‰ç«¯å·¥ç¨‹åŒ–ï¼Œå‘å¸ƒå¤šä¸ªå¼€æºé¡¹ç›®'
  },
  {
    year: '2022',
    icon: 'ğŸ’¼',
    title: 'èŒä¸šè½¬å‹',
    desc: 'åŠ å…¥äº’è”ç½‘å…¬å¸ï¼Œä»äº‹å…¨èŒå‰ç«¯å¼€å‘å·¥ä½œ'
  },
  {
    year: '2021',
    icon: 'ğŸ“',
    title: 'è‡ªå­¦èµ·æ­¥',
    desc: 'å¼€å§‹å­¦ä¹ å‰ç«¯å¼€å‘ï¼Œå®Œæˆç¬¬ä¸€ä¸ª Vue é¡¹ç›®'
  }
]

const contacts = [
  {
    name: 'GitHub',
    icon: 'ğŸ’»',
    handle: '@zhangsan',
    link: 'https://github.com'
  },
  {
    name: 'Email',
    icon: 'ğŸ“§',
    handle: 'zhangsan@example.com',
    link: 'mailto:zhangsan@example.com'
  },
  {
    name: 'æ˜é‡‘',
    icon: 'âœï¸',
    handle: '@å¼ ä¸‰',
    link: 'https://juejin.cn'
  },
  {
    name: 'å¾®ä¿¡å…¬ä¼—å·',
    icon: 'ğŸ“±',
    handle: 'å‰ç«¯æŠ€æœ¯åˆ†äº«',
    link: '#'
  }
]

const stats = [
  { value: '42', label: 'åŸåˆ›æ–‡ç« ' },
  { value: '1.2w', label: 'æ€»é˜…è¯»é‡' },
  { value: '365', label: 'æŒç»­å¤©æ•°' }
]

// ç®€åŒ–ç‰ˆç²’å­åŠ¨ç”»ï¼ˆå¤ç”¨ï¼‰
let animationId: number | null = null

onMounted(() => {
  initParticles()
})

onUnmounted(() => {
  if (animationId !== null) {
    cancelAnimationFrame(animationId)
  }
})

function initParticles() {
  const canvas = particleCanvas.value
  if (!canvas) return
  
  const ctx = canvas.getContext('2d')
  if (!ctx) return
  
  const canvasWidth = canvas.width = window.innerWidth
  const canvasHeight = canvas.height = window.innerHeight
  
  const particles: any[] = []
  for (let i = 0; i < 50; i++) {
    particles.push({
      x: Math.random() * canvasWidth,
      y: Math.random() * canvasHeight,
      vx: (Math.random() - 0.5) * 0.3,
      vy: (Math.random() - 0.5) * 0.3
    })
  }
  
  function animate() {
    if (!ctx || !canvas) return
    ctx.clearRect(0, 0, canvasWidth, canvasHeight)
    particles.forEach(p => {
      p.x += p.vx
      p.y += p.vy
      if (p.x < 0 || p.x > canvasWidth) p.vx *= -1
      if (p.y < 0 || p.y > canvasHeight) p.vy *= -1
      
      ctx.beginPath()
      ctx.arc(p.x, p.y, 1.5, 0, Math.PI * 2)
      ctx.fillStyle = 'rgba(59, 130, 246, 0.3)'
      ctx.fill()
    })
    animationId = requestAnimationFrame(animate)
  }
  animate()
}
</script>

<style scoped>
.particle-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
}

.contact-card {
  @apply bg-gray-800/50 backdrop-blur-md rounded-xl p-6 border border-gray-700;
  @apply hover:border-blue-500/50 hover:shadow-xl hover:-translate-y-1;
  @apply transition-all duration-300 text-center;
}
</style>